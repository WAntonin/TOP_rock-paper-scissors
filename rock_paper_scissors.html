<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>


<div class = "game">
  <h1>rock - paper - scissors</h1>
  <p> You play against the computer in 5 Rounds, the highest score wins.</p>
  <ul>
    <li><img id = "rock" src = "./images/rock.jpg" alt = "rock"></li>
    <li><img id = "paper" src = "./images/paper.jpg" alt = "paper"></li>
    <li><img id = "scissors" src = "./images/scissors.jpg" alt = "scissors"></li>
  </ul>

  <h2 id = "score">dfd</h2>
  <p id = "roundAnnounce">eff</p>
</div>



  <script>

    let rock = document.getElementById('rock');
    let paper = document.getElementById('paper');
    let scissors = document.getElementById('scissors');
    let score = document.getElementById('score').textContent;
    let roundAnnounce = document.getElementById('roundAnnounce').textContent;

    let rpsValues = {rock: 0, paper: 1, scissors:2};
    let valuesRps = {0: rock, 1: paper, 2: scissors};
    




    function computerPlay() {

      let computerValue = Math.floor(Math.random() * Math.floor(3));
      return computerValue;
    }




    function playerPlay(playerChoice) {
      
      return rpsValues[playerChoice];

    }




    function playRound(playerSelection, computerSelection) {
      //take rpsValue corresponding to the selected object (rock=0, paper=1, scissors=2)

      let roundValue = (3 + playerSelection - computerSelection) % 3;
      console.log("playRound round value "+ roundValue);

      let rpsValues = {rock: 0, paper: 1, scissors:2};
      let valuesRps = {0: 'rock', 1: 'paper', 2: 'scissors'};
      let result;
      
      let computerPoint = 0;
      let playerPoint = 0;

      switch (roundValue) {
        case 0:
          roundAnnounce.textContent = "Equality: you both chose ";
          break;
        case 1:
          roundAnnounce.textContent = "You win !: ";
          playerPoint += 1;
          break;
        case 2:
          roundAnnounce.textContent = "You Loose :-(: ";
          computerPoint += 1;
          break;          
      }

      return [result, playerPoint, computerPoint];
    }




    function play(playerChoice) {

      let playerScore = 0;
      let computerScore = 0;
      

      for (i=1; i<=5; i++) {
        console.log("Round: " + i);

        let roundResult = playRound(playerPlay(playerChoice), computerPlay());
        console.log(roundResult);

        playerScore += roundResult[1];
        computerScore += roundResult[2];

        score.textContent = "PLAYER: " + playerScore + " /// COMPUTER: " + computerScore;
      }

      if (playerScore > computerScore){
        console.log("YOU WIN!!!!");
      } else if (playerScore == computerScore) {
        console.log("NO WINNERS");
      } else {
        console.log(" You loose :-(, try again.");
      }

    }

    rock.onclick = play('rock');
    paper.onclick = play('paper');
    scissors.onclick = play('scissors');

  </script>
</body>
</html>